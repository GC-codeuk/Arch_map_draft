<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB4ykymJ5yCNhWlPIDV0Dr7-0tC57Abuog&region=GB" type="text/javascript"></script>
<script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js' type='text/javascript'></script>
<link href='https://fonts.googleapis.com/css?family=Josefin+Sans:400,700,100' rel='stylesheet' type='text/css'>



<div id="map"></div>

<script type="text/javascript">

    // Map style array settings
  var styles = [
  // Hue of map setting
    {
      stylers: [
        { hue: "#00ffe6" },
        { saturation: -20 }
      ]
    },
   // Simplify road features
    {
      featureType: "road",
      elementType: "geometry",
      stylers: [
        { lightness: 100 },
        { visibility: "simplified" }
      ]
    },
    // Remove street names
    {
      featureType: "road",
      elementType: "labels",
      stylers: [
        { visibility: "off" }
      ]
    },
    {
    "featureType": "water",
    "stylers": [
      { "saturation": -6 },
      { "lightness": -74 },
      { "color": "#2580cb" }
    ]
    },     
  ];

  buildMap(<%=raw @hash.to_json %>);

  //handler = Gmaps.build('Google');
  //handler.buildMap({ provider: {styles: styles}, internal: {id: 'map'}}, function(){
  //  markers = handler.addMarkers(<%=raw @hash.to_json %>);
  //  handler.bounds.extendWith(markers);
  //  handler.fitMapToBounds();
  //});

</script>
